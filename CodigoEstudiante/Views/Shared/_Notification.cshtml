@{
    // Usamos TempData además de ViewBag para que funcione tras un RedirectToAction
    var message = TempData["message"] ?? ViewBag.Message;
    var position = TempData["toastPosition"] ?? "top-end";

}

@if (message != null)
{
    <script>
        const msg = "@message";
        const Toast = Swal.mixin({
            toast: true,
            position: "@position", 
            showConfirmButton: false,
            timer: 2500,
            timerProgressBar: true,
            didOpen: (toast) => {
                toast.onmouseenter = Swal.stopTimer;
                toast.onmouseleave = Swal.resumeTimer;
            }
        });
        Toast.fire({
            icon: "success",
            title: msg
        });
    </script>
}
